<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="P. Agr. Ludwing Isaí Marroquín Jiménez">

<title>INTRODUCCIÓN AL ENTORNO DE PROGRAMACIÓN R Y SU APLICACIÓN EN EL ANÁLISIS ESTADÍSTICO DE DATOS</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="teoria_files/libs/clipboard/clipboard.min.js"></script>
<script src="teoria_files/libs/quarto-html/quarto.js"></script>
<script src="teoria_files/libs/quarto-html/popper.min.js"></script>
<script src="teoria_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="teoria_files/libs/quarto-html/anchor.min.js"></script>
<link href="teoria_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="teoria_files/libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="teoria_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="teoria_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="teoria_files/libs/bootstrap/bootstrap-8a79a254b8e706d3c925cde0a310d4f0.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">INTRODUCCIÓN AL ENTORNO DE PROGRAMACIÓN R Y SU APLICACIÓN EN EL ANÁLISIS ESTADÍSTICO DE DATOS</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Autor/a</div>
    <div class="quarto-title-meta-contents">
             <p>P. Agr. Ludwing Isaí Marroquín Jiménez </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="qué-es-r" class="level2">
<h2 class="anchored" data-anchor-id="qué-es-r">¿Qué es R?</h2>
<p>R es un lenguaje de programación y entorno computacional especializado en análisis estadístico y visualización científica, diseñado para investigación reproducible (Ihaka &amp; Gentleman, 1996).</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://miro.medium.com/v2/resize:fit:729/0*CtJIRkWvZK_8GnzM.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="500"></p>
</figure>
</div>
<section id="qué-hace-tan-especial-a-r-para-el-análisis-estadístico" class="level3">
<h3 class="anchored" data-anchor-id="qué-hace-tan-especial-a-r-para-el-análisis-estadístico">¿Qué hace tan especial a R para el análisis estadístico?</h3>
<ul>
<li><p><strong>Código Abierto:</strong> Sin costos de licencia, ideal para proyectos académicos (R Core Team, 2023).</p></li>
<li><p><strong>Extensible:</strong> Hasta 2023 existen más de 19,000 paquetes disponibles en CRAN (Comprehensive R Archive Network) especializados en añadirle nuevas funciones para resolver necesidades especificas usando R, la funcionalidad de estos paquetes va desde hacer mejores gráficos de una manera sencilla hasta facilita procesos estadísticos (CRAN, 2023).</p></li>
</ul>
</section>
</section>
<section id="qué-es-rstudio" class="level2">
<h2 class="anchored" data-anchor-id="qué-es-rstudio">¿Qué es RStudio?</h2>
<p>RStudio es un Entorno de Desarrollo Integrado (IDE) que optimiza el flujo de trabajo en R, destacándose por su sistema de proyectos y herramientas para reproducibilidad (Allaire et al., 2022).</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://www.databricks.com/sites/default/files/2018/06/RStudio-Logo-All-Color-partners.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="500"></p>
</figure>
</div>
</section>
<section id="reproducibilidad-replicabilidad-qué-tienen-que-ver-con-r-y-rstudio" class="level2">
<h2 class="anchored" data-anchor-id="reproducibilidad-replicabilidad-qué-tienen-que-ver-con-r-y-rstudio">Reproducibilidad, Replicabilidad ¿Qué tienen que ver con R y RStudio?</h2>
<p>El 64% de los investigadores enfrentan dificultades para replicar estudios previos debido a documentación insuficiente (Baker, 2016).</p>
<ul>
<li><p><strong>Situación:</strong> Usas Excel y/o infostat. Tus cálculos están en celdas ocultas, y los gráficos se ajustan manualmente.</p></li>
<li><p><strong>Resultado:</strong> Nadie, ni tú en 6 meses, podrá repetir exactamente tu análisis.</p></li>
<li><p><strong>Solución:</strong> Realizar el análisis de los datos y la construcción de los gráficos aprovechando las herramientas que nos provee R para generar un script donde se documenta el paso a paso que se siguió para realizar el análisis y llegar a las conclusiones.</p></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://bibliobasella.wordpress.com/wp-content/uploads/2015/04/cc27b-freir2bun2bhuevo.jpg" class="img-fluid figure-img" width="500"></p>
<figcaption>“Un script de R es como una receta: cualquiera puede seguirla paso a paso para recrear tu ‘platillo’ científico. Así como, cualquiera puede re interpretarla para crear su propio ‘platillo’ científico.”</figcaption>
</figure>
</div>
<section id="definición-formal-de-reproducibilidad-y-replicabilidad" class="level3">
<h3 class="anchored" data-anchor-id="definición-formal-de-reproducibilidad-y-replicabilidad">Definición formal de reproducibilidad y replicabilidad</h3>
<p>La reproducibilidad (capacidad de obtener los mismos resultados con los mismos datos y métodos) y la replicabilidad (consistencia de hallazgos en nuevos contextos) son fundamentales para la credibilidad científica (National Academies of Sciences, Engineering, and Medicine, 2019).</p>
</section>
<section id="beneficios-de-la-adopción-de-r-para-la-ciencia" class="level3">
<h3 class="anchored" data-anchor-id="beneficios-de-la-adopción-de-r-para-la-ciencia">Beneficios de la adopción de R para la Ciencia</h3>
<ul>
<li><p><strong>Transparencia</strong>: Código accesible para revisión por pares (The Turing Way Community, 2023).</p></li>
<li><p><strong>Eficiencia</strong>: Reutilización de métodos en nuevos estudios (Gentleman &amp; Temple Lang, 2007).</p></li>
<li><p><strong>Credibilidad</strong>: Cumplimiento de estándares FAIR (Wilkinson et al., 2016).</p></li>
</ul>
</section>
</section>
<section id="cómo-obtengo-r-y-rstudio-para-mi-uso-personal" class="level2">
<h2 class="anchored" data-anchor-id="cómo-obtengo-r-y-rstudio-para-mi-uso-personal">¿Cómo obtengo R y RStudio para mi uso personal?</h2>
<p>Instalar R y RStudio en nuestro ordenador es bastante sencillo. Para ello primero debemos descargar una versión de R estable, en el momento de elaboración de este material la ultima versión de R es R 4.4.2, sin embargo, utilizar la ultima versión de R nos puede llegar a dar problemas al utilizar paquetes los cuales no han recibido actualizaciones para poderse utilizar en esa versión de R es por ello que se recomienda instalar la ultima versión estable conocida de R. Con base a lo anteriormente explicado en este curso utilizaremos la versión de R 4.3.1.</p>
<p>El enlace para ir al repositorio donde se encuentran todas la versiones de R es el siguiente: <a href="https://cran.r-project.org/bin/windows/base/old/" class="uri">https://cran.r-project.org/bin/windows/base/old/</a>. En esta página encontraremos un directorio con todas las versiones de R que alguna vez han existido para descargar una versión en específico, le damos clic al nombre de la versión y nos abrirá un directorio con toda la documentación de esa versión de R, a nosotros nos interesa el archivo con una terminación -win. exe la cual al darle clic automáticamente nos descargara el instalador de la versión de R.</p>
<p>Para descargar la ultima versión de RStudio nos dirigimos a la <a href="https://posit.co/download/rstudio-desktop/">Página oficial</a> de RStudio donde al dar clic sobre el botón <em>“Download RStudio Desknop for Windows”</em> la pagina iniciara la descarga del instalador de RStudio. En caso de que nuestro dispositivo no tenga como sistema operativo Windows en la misma pagina en la sección siguiente se encuentran las respectivas versiones de RStudio para todos los sistemas operativos con los que es compatible.</p>
<p>La instalación de los dos programas debe realizarse en un orden específico para evitar conflictos y errores. Primero debemos instalar la versión de R y posteriormente instalamos RStudio. Cabe resaltar que en un mismo dispositivo pueden convivir más de una versión de R y dentro de la configuración de RStudio es posible seleccionar cuál versión sera con la que trabajaremos.</p>
</section>
<section id="trabajo-práctico-para-familiarizarnos-con-el-software" class="level2">
<h2 class="anchored" data-anchor-id="trabajo-práctico-para-familiarizarnos-con-el-software">Trabajo práctico para familiarizarnos con el software</h2>
<p>Aprender desde cero a usar un software como R y RStudio. Es como cuando nos iniciamos en la cocina: por más que leamos recetas, solo dominaremos los sabores y técnicas al encender la estufa y experimentar. Según la teoría del aprendizaje experimental de Kolb (1984), internalizamos conceptos cuando&nbsp;<strong>hacemos</strong>,&nbsp;no solo cuando escuchamos. Imaginemos que preparamos una salsa: si la sal es excesiva (error), ajustamos la próxima vez (prueba), y así hasta lograr el equilibrio (éxito). De la misma forma, al programar en RStudio, cada línea de código es nuestro ingrediente. Si un gráfico no se renderiza, depuramos el error; si un cálculo falla, corregimos la sintaxis. Este ciclo de prueba-error, respaldado por el constructivismo (Hmelo-Silver et al., 2007), transforma funciones abstractas en habilidades concretas. No memorizamos <strong>funciones</strong>: los&nbsp;<strong>saboreamos</strong>&nbsp;en la práctica, como los chefs que aprenden a medir ‘a ojo’ la pimienta. La pantalla es nuestra cocina, y cada script, un plato que perfeccionamos.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://media.istockphoto.com/id/1300513392/es/vector/hombre-feliz-en-delantal-mezclando-ingredientes-en-taz%C3%B3n.jpg?s=612x612&amp;w=0&amp;k=20&amp;c=Rr6lmu6q2T4OVQZR4eVsFbjHutdBuaAgN_E9ue3iMnA=" class="quarto-figure quarto-figure-center figure-img" width="500" height="300"></p>
</figure>
</div>
<section id="empecemos-creando-un-nuevo-script-de-r" class="level3">
<h3 class="anchored" data-anchor-id="empecemos-creando-un-nuevo-script-de-r">Empecemos creando un nuevo script de R</h3>
<p>Cuando abrimos por primera vez RStudio nos encontramos con la siguiente interfaz:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Captura%20de%20pantalla%202025-02-26%20140717.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="600"></p>
</figure>
</div>
<p>Normalmente nos toca crear un script nuevo para trabajar cuando entramos para ello existen dos rutas habituales y estas son:</p>
<ol type="1">
<li><strong>Manualmente:</strong> Desplegamos la pestaña “File” de la cinta de opciones ubicada en la parte superior izquierda del programa, sucesivamente seleccionamos la opción “New File” y después seleccionamos el tipo de archivo que para nuestro caso es “R Script”.</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Captura%20de%20pantalla%202025-02-26%20140954.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="600"></p>
</figure>
</div>
<ol start="2" type="1">
<li><strong>Utilizando atajos de teclado:</strong> Para crear un nuevo script se puede utilizar la combinación de teclas <strong>Ctrl+Shift+N</strong> como un atajo de teclado, el cual nos creara automáticamente un script nuevo.</li>
</ol>
</section>
<section id="guardemos-nuestro-script-para-evitar-perder-nuestro-trabajo" class="level3">
<h3 class="anchored" data-anchor-id="guardemos-nuestro-script-para-evitar-perder-nuestro-trabajo">Guardemos nuestro script para evitar perder nuestro trabajo</h3>
<p>Una vez ya hemos creado el script en donde trabajaremos este es un lienzo en blanco en donde desarrollaremos el análisis de nuestros datos, para evitar perder nuestro progreso por cualquier inconveniente es recomendable guardarlo desde el principio. Para ello nuevamente desplegamos la pestaña “File” y seleccionamos la opción “Save as…” esta opción nos abrirá el menú predeterminado para seleccionar dónde guardar nuestro script y con qué nombre.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Captura%20de%20pantalla%202025-02-26%20144213-01.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="500"></p>
</figure>
</div>
<section id="recomendaciones-para-la-organización-de-archivos" class="level4">
<h4 class="anchored" data-anchor-id="recomendaciones-para-la-organización-de-archivos">Recomendaciones para la organización de archivos</h4>
<p>Así como en la cocina separamos los utensilios, los ingredientes frescos y las especias en cajones etiquetados, en RStudio necesitamos un sistema claro para guardar nuestros scripts, datos y resultados. Un proyecto desorganizado es como una alacena caótica: perderemos tiempo buscando archivos y arriesgaremos errores. Para evitarlo, sigamos estas recomendaciones de organización:</p>
<ol type="1">
<li><p><strong>Nombres descriptivos y consistentes</strong>:</p>
<ul>
<li><p>❌ <code>analisis1.R</code>, <code>datos_finales.xlsx</code></p></li>
<li><p>✅ <code>20231015_analisis_rendimiento_maiz.R</code>, <code>datos_suelo_antigua_2023.csv</code></p></li>
</ul></li>
<li><p><strong>Evitar espacios y caracteres especiales</strong>:</p>
<ul>
<li><p>Usar guiones bajos (<code>_</code>) o medios (<code>-</code>) en vez de espacios:</p>
<ul>
<li><p>❌ <code>analisis suelo.R</code></p></li>
<li><p>✅ <code>analisis_suelo.R</code></p></li>
</ul></li>
</ul></li>
<li><p><strong>Incluir fechas en un formato estandarizado (YYYY-MM-DD)</strong>:</p>
<ul>
<li><code>2023-10-15_importacion_datos.R</code></li>
</ul></li>
<li><p><strong>Crear una carpeta en nuestro ordenador para cada proyecto</strong></p></li>
</ol>
<p>Con este sistema, cualquier colaborador (o nuestro “yo” del futuro) encontrará todo al primer vistazo, como un chef que sabe dónde está cada ingrediente en su cocina. <em>La organización no es burocracia: es la base de la eficiencia y la reproducibilidad.</em></p>
</section>
</section>
</section>
<section id="iniciemos-conociendo-los-objetos-en-r" class="level2">
<h2 class="anchored" data-anchor-id="iniciemos-conociendo-los-objetos-en-r">Iniciemos conociendo los objetos en R</h2>
<p>En R, todo es un <strong>objeto</strong>. Un objeto es una estructura que almacena datos y tiene atributos (nombre, tipo, etc.).</p>
<section id="recomendaciones-para-nombrar-objetos" class="level3">
<h3 class="anchored" data-anchor-id="recomendaciones-para-nombrar-objetos">Recomendaciones para nombrar objetos:</h3>
<ul>
<li><p><strong>Sensibles a mayúsculas</strong>: pH ≠ ph.</p></li>
<li><p><strong>No usar espacios</strong>:</p>
<ul>
<li><p>❌ rendimiento ha</p></li>
<li><p>✅ rendimiento_ha</p></li>
</ul></li>
<li><p><strong>Nombres descriptivos y consistentes:</strong></p>
<ul>
<li>A diferencia de cuando nombramos archivos acá es recomendable que el nombre sea breve pero que al mismo tiempo nos brinde la mayor cantidad de información posible. Cuando esto no es viable por la especificidad de los datos o cualquier otra razón podemos guardar un archivo con la metadata de nuestra base de datos en la misma carpeta como parte de la documentación que facilitara la comprensión del análisis a cualquier colaborador (o nuestro “yo” del futuro).</li>
</ul></li>
</ul>
</section>
<section id="cómo-creo-un-objeto" class="level3">
<h3 class="anchored" data-anchor-id="cómo-creo-un-objeto">¿Cómo creo un objeto?</h3>
<p>Para la creación de cualquier objeto en R existen dos operadores de asignación los cuales son: “=” y “&lt;-” estos operadores cumplen la misma función. Sin embargo, el signo de igualdad no se recomienda utilizarlo debido a que puede llegar a causar conflictos al usar operadores lógicos en nuestro codigo es por ello que para fines profesionales se ha estandarizado el uso de “&lt;-” como operador de asignación en R.</p>
<p>La estructura de sintaxis utilizada en R para crear cualquier objeto es la siguiente:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<tbody>
<tr class="odd">
<td><strong>NOMRE DEL OBJETO</strong></td>
<td><strong>&lt;-</strong></td>
<td><strong>Información que contendrá nuestro objeto</strong></td>
</tr>
<tr class="even">
<td>Siguiendo las recomendaciones para su nomenclatura</td>
<td>Vector de asignación</td>
<td>Los objetos en R pueden contener distintos tipos de información ya sea texto, números…</td>
</tr>
</tbody>
</table>
<p><em><strong>Nota:</strong> Para visualizar en la consola el valor de un objeto se escribe el nombre asignado y se ejecuta la linea de código.</em></p>
</section>
<section id="tipos-de-objetos" class="level3">
<h3 class="anchored" data-anchor-id="tipos-de-objetos">Tipos de objetos</h3>
<p>En R, cada objeto puede almacenar distintos tipos de datos. Sin embargo, solo pueden almacenar un tipo de dato en cada objeto. Los tipos de objetos existentes en R son:</p>
<section id="objetos-numéricos" class="level4">
<h4 class="anchored" data-anchor-id="objetos-numéricos">Objetos numéricos</h4>
<p>Un objeto numérico es aquel que almacena datos con números enteros o decimales, estos nos sirven para almacenar información de variables cuantitativas como por ejemplo: Edad, Altura, Peso. También nos puede servir para guardar factores de conversión para convertir entre distintas unidades de medida por ejemplo el factor de conversión entre libras y kilogramos es 2.2. A continuación vamos a poner en práctica la creación de este tipo de objetos creando el objeto correspondiente a cada uno de los ejemplos dados utilizando nuestra información:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># EJEMPLO DE CREACIÓN DE OBJETOS NUMÉRICOS</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>edad <span class="ot">&lt;-</span> <span class="dv">21</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>altura_m <span class="ot">&lt;-</span> <span class="fl">1.70</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>peso_lb <span class="ot">&lt;-</span> <span class="dv">150</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>lb_kg <span class="ot">&lt;-</span> <span class="fl">2.20</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Para ejecutar el código que acabamos de escribir existen dos maneras las cuales son:</p>
<ol type="1">
<li><p><strong>Manualmente:</strong> Nos ubicamos en la linea de código que queremos ejecutar y damos clic sobre la opción “Run” que se encuentra en la esquina superior derecha del área del script.</p></li>
<li><p><strong>Usando atajos de teclado:</strong> Seleccionamos la/las lineas de código que queremos ejecutar y presionamos la combinación de teclas <strong>Ctrl+Enter.</strong></p></li>
</ol>
<p>Indistintamente de cuál de los métodos utilicemos veremos como en la consola aparecerán las lineas de código que hayamos ejecutado y al mismo tiempo en el Environment (Ambiente) nos aparecerán los nombres de nuestros objetos creados y su contenido.</p>
<p><strong><em>Nota:</em></strong> <em>En R si antes de un texto colocamos el símbolo numeral (#) el software lo interpreta como un comentario, estas lineas no se ejecutaran. Sin embargo, son muy útiles para explicar ¿Qué hicimos? en cada sección de nuestro código, para que sea más fácil de entender para nuestro “yo” del futuro.</em></p>
</section>
<section id="objetos-tipo-carácter-o-texto" class="level4">
<h4 class="anchored" data-anchor-id="objetos-tipo-carácter-o-texto">Objetos tipo carácter o texto</h4>
<p>Los objetos de tipo carácter nos sirven para almacenar variables cualitativas, este tipo de objeto almacena el texto entre comillas (” “), habitualmente se utiliza para almacenar nombres y categorías no estructuradas como por ejemplo: nuestro color favorito o el nombre de nuestra comida favorita. A continuación vamos a poner en práctica la creación de este tipo de objetos creando el objeto correspondiente a cada uno de los ejemplos dados:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># EJEMPLO DE CREACIÓN DE OBJETOS TIPO CARACTER </span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>color_fav <span class="ot">&lt;-</span> <span class="st">"negro"</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>comida_fav <span class="ot">&lt;-</span> <span class="st">"pizza"</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="objetos-de-tipo-factor" class="level4">
<h4 class="anchored" data-anchor-id="objetos-de-tipo-factor">Objetos de tipo factor</h4>
<p>Los objetos de tipo factor nos sirven para almacenar variables categóricas estructuradas con niveles definidos. Usualmente se utiliza para almacenar escalas o categorías definidas como por ejemplo: una escala de calificaciones (aprobado o reprobado) o el estado civil de una persona (casado, soltero o divorciado). Para crear este tipo de objetos utilizamos la función “factor()” para indicarle a R que este objeto no es de tipo carácter ya que al igual que los objetos tipo carácter los niveles de nuestras categorías se ingresan entre comias. A continuación vamos a poner en práctica la creación de este tipo de objetos creando el objeto de tipo factor estado civil y sexo con nuestra información.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># EJEMPLO DE CREACIÓN DE OBJETOS TIPO FACTOR </span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>estado_civil <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="st">"soltero"</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>sexo <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="st">"masculino"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><em><strong>Nota:</strong> Los objetos de tipo factor son muy útiles cuando trabajamos con bases de datos complejas ya que estos nos sirven para clasificar y categorizar variables para su análisis</em></p>
</section>
<section id="objetos-lógicos" class="level4">
<h4 class="anchored" data-anchor-id="objetos-lógicos">Objetos lógicos</h4>
<p>Los objetos de tipo lógico también conocidos como los termómetros de condiciones nos sirven para aplicar filtros y se crean normalmente como el resultado de una comparación en donde estuvo involucrado un operador lógico (en la siguiente sección hablaremos de los distintos tipos de operadores que existen en R). Su nombre de termómetros de condiciones es más acertado con los ejemplos tipicos de su uso. Para el caso de nuestros objetos anteriormente creados podemos crear un objeto de tipo lógico comparando si nuestra edad cumple con la condición necesaria para ser considerados mayores de edad que para el caso de Guatemala esta condición seria que nuestra edad sea mayor a 18 años. A continuación vamos a poner en práctica la creación de este tipo de objetos creando el objeto del ejemplo antes descrito.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># EJEMPLO DE CREACIÓN DE UN OBJETO TIPO LOGICO</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>mayoria_de_edad <span class="ot">&lt;-</span> edad <span class="sc">&gt;</span><span class="dv">18</span> ; mayoria_de_edad</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
</div>
<p><em><strong>Nota:</strong> si al acabar la asignación de un objeto colocamos un punto y coma seguido del nombre del objeto R nos devolverá en la consola el valor del objeto esto es útil cuando el objeto es el resultado de una operación. Para el ejemplo anterior podemos ver como en la consola nos aparece el valor de nuestro objeto que para este caso al cumplirse la condición el valor es TRUE (verdadero).</em></p>
</section>
</section>
</section>
<section id="y-si-quiero-un-objeto-con-dos-o-más-valores" class="level2">
<h2 class="anchored" data-anchor-id="y-si-quiero-un-objeto-con-dos-o-más-valores">¿Y si, quiero un objeto con dos o más valores?</h2>
<p>Imaginemos que estamos organizando la información de un salón de clase: no trabajamos con un solo alumno, sino con un grupo de estudiantes, cada uno con información diferente como nombre, edad, peso en libras y sexo. En R, los&nbsp;<strong>vectores</strong>&nbsp;y&nbsp;<strong>data frames</strong>&nbsp;son nuestras herramientas para manejar colecciones de datos de manera estructurada y eficiente. A continuación, exploraremos cómo crear y gestionar estos objetos.</p>
<p>Un vector en R es un objeto el cual esta compuesto por un número determinado de elementos del mismo tipo para su creación en R se utiliza la función “c()” y dentro de los paréntesis se colocan todos los elementos que formaran parte de nuestro vector separados por comas. A continuación elaboraremos un ejemplo de como crear un vector para cada uno de los distintos tipos de objetos que hay en R utilizando datos de un salón de clases.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># EJEMPLO DE CREACIÓN DE VECTORES </span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="co"># VECTORES DE TIPO CARACTER</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>nombre <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Juan"</span>, <span class="st">"Pedro"</span>, <span class="st">"Luis"</span>, <span class="st">"Ana"</span>, <span class="st">"Andrea"</span>)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co"># VECTORES DE TIPO NUMÉRICO</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>edad <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">18</span>, <span class="dv">17</span>, <span class="dv">21</span>, <span class="dv">20</span>, <span class="dv">19</span>) </span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>peso_lb <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">125.20</span>, <span class="fl">130.5</span>, <span class="fl">145.6</span>, <span class="fl">120.1</span>, <span class="fl">110.5</span>)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="co"># VECTORES DE TIPO CATEGORICO</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>sexo <span class="ot">&lt;-</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="st">"H"</span>, <span class="st">"H"</span>, <span class="st">"H"</span>, <span class="st">"M"</span>, <span class="st">"M"</span>))</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="co"># VECTORES DE TIPO LOGICO</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>mayoria_de_edad <span class="ot">&lt;-</span> edad <span class="sc">&gt;=</span><span class="dv">18</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="tengo-muchos-vectores-cómo-los-puedo-agrupar-para-tener-una-mejor-organización" class="level3">
<h3 class="anchored" data-anchor-id="tengo-muchos-vectores-cómo-los-puedo-agrupar-para-tener-una-mejor-organización">Tengo muchos vectores… ¿Cómo los puedo agrupar para tener una mejor organización?</h3>
<p>Cuando trabajamos con múltiples vectores relacionados (por ejemplo, datos de estudiantes en un salón de clase), la mejor manera de organizarlos es utilizando&nbsp;<strong>estructuras de datos integradas en R</strong>&nbsp;que permiten agrupar vectores de manera coherente. Las dos opciones principales son los&nbsp;<strong>data frames</strong>&nbsp;y las&nbsp;<strong>listas</strong>. A continuación, exploraremos cómo usarlas:</p>
</section>
<section id="data-frames-tablas-estructuradas-para-análisis" class="level3">
<h3 class="anchored" data-anchor-id="data-frames-tablas-estructuradas-para-análisis">Data Frames: Tablas estructuradas para análisis</h3>
<p>Un <strong>data frame</strong> es una estructura tabular (similar a una hoja de Excel) que combina vectores de <strong>igual longitud</strong> pero de <strong>distintos tipos</strong> (numéricos, caracteres, factores, etc.). Es ideal para bases de datos organizadas, donde cada fila representa una observación y cada columna una variable.</p>
<section id="creemos-un-data-frame-con-nuestros-vectores" class="level4">
<h4 class="anchored" data-anchor-id="creemos-un-data-frame-con-nuestros-vectores">Creemos un data frame con nuestros vectores</h4>
<p>Para la creación de un data frame se emplea la función data.frame(), los argumentos que se colocan en esta función son los nombres de todos los vectores que queremos unir en un mismo data frame separados por comas, como se muestra a continuación:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># EJEMPLO DE CREACIÓN DE UN DATAFRAME</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>datos_estudiantes <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(nombre, edad, mayoria_de_edad, peso_lb, sexo)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>datos_estudiantes</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  nombre edad mayoria_de_edad peso_lb sexo
1   Juan   18            TRUE   125.2    H
2  Pedro   17           FALSE   130.5    H
3   Luis   21            TRUE   145.6    H
4    Ana   20            TRUE   120.1    M
5 Andrea   19            TRUE   110.5    M</code></pre>
</div>
</div>
</section>
<section id="ventajas-de-los-data-frames" class="level4">
<h4 class="anchored" data-anchor-id="ventajas-de-los-data-frames">Ventajas de los data frames</h4>
<ul>
<li><p>Permiten manipulación y análisis estadístico directo.</p></li>
<li><p>Compatibles con funciones de visualización.</p></li>
<li><p>Fáciles de exportar/importar.</p></li>
</ul>
</section>
</section>
<section id="listas-colecciones-flexibles-de-objetos" class="level3">
<h3 class="anchored" data-anchor-id="listas-colecciones-flexibles-de-objetos">Listas: Colecciones flexibles de objetos</h3>
<p>Una <strong>lista</strong> es una estructura que puede contener <strong>cualquier tipo de objeto</strong> (vectores, matrices, otros data frames, funciones, etc.), incluso si tienen longitudes o tipos diferentes. Son útiles para organizar resultados complejos o grupos heterogéneos de datos.</p>
<p>Más adelante cuando queramos guardar los resultados de nuestros analisis estadisticos aprenderemos más sobre las listas. Por el momento solo trabajaremos con data frames.</p>
<section id="comparación-entre-data-frames-y-listas" class="level4">
<h4 class="anchored" data-anchor-id="comparación-entre-data-frames-y-listas">Comparación entre data frames y listas</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 45%">
<col style="width: 54%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Data Frame</th>
<th style="text-align: left;">Lista</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Vectores de igual longitud.</td>
<td style="text-align: left;">Objetos de cualquier tipo o longitud.</td>
</tr>
<tr class="even">
<td style="text-align: left;">Ideal para análisis estadístico.</td>
<td style="text-align: left;">Ideal para almacenar resultados mixtos.</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Columnas con nombres definidos.</td>
<td style="text-align: left;">Elementos pueden nombrarse o no.</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="qué-pasa-si-mis-datos-ya-los-tengo-almacenados-en-un-archivo-de-delimitado-por-comas-csv-o-excel" class="level3">
<h3 class="anchored" data-anchor-id="qué-pasa-si-mis-datos-ya-los-tengo-almacenados-en-un-archivo-de-delimitado-por-comas-csv-o-excel">¿Qué pasa si mis datos ya los tengo almacenados en un archivo de delimitado por comas (CSV) o excel?</h3>
<p>Imaginemos que los datos son ingredientes guardados en recipientes: los archivos CSV y Excel son como frascos etiquetados que R puede abrir para extraer información. Para ello tenemos que importarlos así, evitando el tedioso copiar/pegar manual, y mantener la reproducibilidad de nuestro análisis.</p>
<section id="archivos-delimitados-por-comas-.csv" class="level4">
<h4 class="anchored" data-anchor-id="archivos-delimitados-por-comas-.csv">Archivos delimitados por comas (.csv)</h4>
<ul>
<li><p><strong>Estructura:</strong> Archivo de <em>texto plano</em> donde cada valor está separado por una coma (ej: nombre, edad, altura, peso).</p></li>
<li><p><strong>Características técnicas:</strong></p>
<ul>
<li><p>Sin formato: No admite colores, fórmulas o múltiples hojas.</p></li>
<li><p>Universal: Lo abre cualquier editor de texto o programa (Bloc de notas, Excel, R).</p></li>
<li><p>Ligero: Ideal para datos simples y transferencias rápidas.</p></li>
</ul></li>
<li><p><strong>Ejemplo de cómo importar un archivo .csv a R</strong></p></li>
</ul>
<p>Para importar un data frame que se encuentra almacenado en formato <strong>.csv</strong> a R se emplea la siguiente sintaxis para la función: <em>“<strong>read.csv(”</strong>nombre del documento<strong>”, header =</strong> (indicar si tiene o no encabezado)<strong>, sep =”</strong>(indicar que tipo de separador utilizamos)<strong>”)</strong>”</em></p>
<ol type="1">
<li><p><strong>Instalar los paquetes necesarios para esta tarea</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">#1 INSTALAMOS LOS PAQUETES DE R NECESARIOS PARA ESTA TAREA</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">"rstudioapi"</span>)) <span class="fu">install.packages</span>(<span class="st">"rstudioapi"</span>) </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Lo usaremos para establecer nuestro directorio de trabajo facilmente</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
<li><p><strong>Establecemos la carpeta de nuestro proyecto como directorio de trabajo</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">#2 ESTABLECER NUESTRO DIRECTORIO DE TRABAJO</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span> (<span class="fu">dirname</span>(rstudioapi<span class="sc">::</span><span class="fu">getActiveDocumentContext</span>()<span class="sc">$</span>path)) </span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
<li><p><strong>Importamos nuestro dataframe</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co">#3 IMPORTAMOS NUESTRO DATAFRAME</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>datos<span class="ot">&lt;-</span><span class="fu">read.csv</span>(<span class="st">"datos_estudiantes_2002.csv"</span>, </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">header =</span> <span class="cn">TRUE</span>, </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">sep =</span> <span class="st">";"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
</ol>
<p><em><strong>Nota:</strong> La siguiente linea de código “<em>setwd (dirname(rstudioapi::getActiveDocumentContext()$path))” </em>es una”<strong>receta mágica”</strong> que establece automáticamente la misma carpeta donde tenemos guardado nuestro script como nuestro directorio de trabajo.</em></p>
</section>
<section id="archivos-de-excel-.xlsx" class="level4">
<h4 class="anchored" data-anchor-id="archivos-de-excel-.xlsx">Archivos de excel (.xlsx)</h4>
<ul>
<li><p><strong>Estructura:</strong> Archivo <em>binario</em> con múltiples hojas, fórmulas, gráficos y formato (ej: colores, fuentes).</p></li>
<li><p><strong>Características técnicas:</strong></p>
<ul>
<li><p>Complejo: Diseñado para análisis interactivos y presentaciones.</p></li>
<li><p>Propietario: Desarrollado por Microsoft, pero compatible con herramientas como R.</p></li>
<li><p>Pesado: Puede ralentizarse con grandes volúmenes de datos (&gt;1 millón de filas).</p></li>
</ul></li>
<li><p><strong>Ejemplo de cómo importar un archivo .xlsx a R</strong></p></li>
</ul>
<p>Para importar un data frame que se encuentra almacenado en formato&nbsp;<strong>.xlsx</strong>&nbsp;a R se emplea la siguiente sintaxis para la función:&nbsp;<em>“<strong>read_excel(”</strong>nombre del documento<strong>”, col_names =</strong>&nbsp;(indicar si tiene o no encabezado)<strong>, sheet =”</strong>nombre de la hoja<strong>”)</strong>”</em></p>
<ol type="1">
<li><p><strong>Instalar los paquetes necesarios para esta tarea</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co">#1 INSTALAMOS LOS PAQUETES DE R NECESARIOS PARA ESTA TAREA</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">"rstudioapi"</span>)) <span class="fu">install.packages</span>(<span class="st">"rstudioapi"</span>) <span class="co"># Lo usaremos para </span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co">#establecer nuestro directorio de trabajo facilmente</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">"readxl"</span>)) <span class="fu">install.packages</span>((<span class="st">"readxl"</span>)) <span class="co"># Este paquete nos sirve </span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="co">#para que R pueda importar archivos de excel</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
<li><p><strong>Establecemos la carpeta de nuestro proyecto como directorio de trabajo</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co">#2 ESTABLECER NUESTRO DIRECTORIO DE TRABAJO</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span> (<span class="fu">dirname</span>(rstudioapi<span class="sc">::</span><span class="fu">getActiveDocumentContext</span>()<span class="sc">$</span>path)) </span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
<li><p><strong>Importamos nuestro dataframe</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">#3 IMPORTAMOS NUESTRO DATAFRAME</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>datos_2002 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"datos_estudiantes_2002.xlsx"</span>, </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>                  <span class="at">col_names =</span> <span class="cn">TRUE</span>, </span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">sheet =</span> <span class="st">"datos"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
</ol>
</section>
</section>
<section id="cómo-acceder-a-las-variables-de-un-data-frame" class="level3">
<h3 class="anchored" data-anchor-id="cómo-acceder-a-las-variables-de-un-data-frame">¿Cómo acceder a las variables de un Data frame?</h3>
<p>Para acceder a la información guardada como una columna en un data frame, no podemos acceder de la misma manera que lo hacíamos con los vectores para esta tarea accedemos usando el operador <code>$</code>: <em>La “Llave Maestra”.</em> Este operador accede directamente a una columna/variable del data frame por su nombre. Para esto usamos la sintaxis siguiente: <code>(nombre del data frame)$(nombre de la columna)</code><br>
<strong>Ejemplo</strong> <strong>:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Acceder a la columna "edad" del data frame datos_estudiantes</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>datos_estudiantes<span class="sc">$</span>edad      </span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 18 17 21 20 19</code></pre>
</div>
</div>
<p><strong>Uso común:</strong></p>
<ul>
<li><p>Ideal para operaciones rápidas o cuando trabajas con pocas variables.</p></li>
<li><p>Funciona con cualquier funcion u operador con el que estemos trabajando.</p></li>
</ul>
</section>
</section>
<section id="la-importancia-de-un-directorio-de-trabajo" class="level2">
<h2 class="anchored" data-anchor-id="la-importancia-de-un-directorio-de-trabajo">La importancia de un directorio de trabajo</h2>
<p>Imagina que el directorio de trabajo es como el “punto de partida” en un mapa: es la carpeta donde R buscará automáticamente tus archivos (datos, scripts) y guardará tus resultados. Si no lo defines, es como intentar cocinar sin saber dónde están los ingredientes: perderás tiempo buscando rutas manualmente y el código dejará de funcionar si mueves el proyecto a otra computadora.</p>
<section id="por-qué-establecer-un-directorio-de-trabajo" class="level3">
<h3 class="anchored" data-anchor-id="por-qué-establecer-un-directorio-de-trabajo">¿Por qué establecer un directorio de trabajo?</h3>
<ul>
<li><p><strong>Reproducibilidad:</strong> Garantiza que tu código funcione en cualquier computadora, sin depender de rutas como <code>C:/Usuario/MiPC...</code>.</p></li>
<li><p><strong>Organización:</strong> Evita errores del tipo <em>“archivo no encontrado”</em> al mantener todo (datos, scripts, resultados) en una estructura clara.</p></li>
<li><p><strong>Eficiencia:</strong> Simplifica el acceso a archivos. En vez de escribir rutas completas, usas nombres simples.</p></li>
</ul>
</section>
<section id="la-receta-mágica" class="level3">
<h3 class="anchored" data-anchor-id="la-receta-mágica">La “Receta Mágica”</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setwd</span>(<span class="fu">dirname</span>(rstudioapi<span class="sc">::</span><span class="fu">getActiveDocumentContext</span>()<span class="sc">$</span>path))</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="qué-hace-esta-línea" class="level4">
<h4 class="anchored" data-anchor-id="qué-hace-esta-línea">¿Qué hace esta línea?</h4>
<ol type="1">
<li><p><strong><code>rstudioapi::getActiveDocumentContext()$path</code>:</strong> Obtiene la ruta del script actual (<em>ej: <code>C:/proyecto/scripts/analisis.R</code></em>).</p></li>
<li><p><strong><code>dirname()</code>:</strong> Extrae la carpeta padre de esa ruta (<em>ej: <code>C:/proyecto/scripts/</code> → <code>C:/proyecto/</code></em>).</p></li>
<li><p><strong><code>setwd()</code>:</strong> Establece esa carpeta como directorio de trabajo.</p></li>
</ol>
</section>
</section>
<section id="beneficios-clave" class="level3">
<h3 class="anchored" data-anchor-id="beneficios-clave">Beneficios clave</h3>
<ul>
<li><p><strong>Portabilidad:</strong> Si mueves toda la carpeta del proyecto a otra ubicación, el código sigue funcionando.</p></li>
<li><p><strong>Automatización:</strong> No necesitas ajustar manualmente rutas al compartir el proyecto.</p></li>
</ul>
</section>
<section id="qué-pasa-si-no-se-establece" class="level3">
<h3 class="anchored" data-anchor-id="qué-pasa-si-no-se-establece">¿Qué pasa si no se establece?</h3>
<ul>
<li><p><strong>Errores constantes:</strong> R buscará archivos en una ubicación predeterminada (ej: Documentos), no donde están tus datos.</p></li>
<li><p><strong>Código no reproducible:</strong> Si alguien más ejecuta tu script, tendrá que modificar manualmente todas las rutas.</p></li>
</ul>
<p>📌&nbsp;<strong>Consejo:</strong>&nbsp;Ejecuta&nbsp;<code>getwd()</code>&nbsp;para verificar tu directorio actual. Si usas la línea automática, <em>¡asegúrate de guardar el script antes de ejecutarla!</em></p>
</section>
</section>
<section id="operadores-en-r-es-r-otra-calculadora-pero-más-difícil-de-utilizar" class="level2">
<h2 class="anchored" data-anchor-id="operadores-en-r-es-r-otra-calculadora-pero-más-difícil-de-utilizar">Operadores en R ¿Es R otra calculadora pero más difícil de utilizar?</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://i.pinimg.com/736x/7d/52/9a/7d529ac1ac85c0438590c3929fbbf5ed.jpg" class="img-fluid quarto-figure quarto-figure-center figure-img" width="500"></p>
</figure>
</div>
<p>Imaginemos que R es un taller de herramientas completo: no solo tiene destornilladores y martillos (operadores básicos), sino también taladros, niveles láser y equipos de soldadura (funciones avanzadas, paquetes y estructuras de datos). Cada herramienta tiene un propósito único, y combinarlas permite construir soluciones robustas. A continuación, exploraremos cómo estas “herramientas” se integran en un flujo de trabajo profesional.</p>
<section id="operadores-básicos-los-destornilladores-de-r" class="level3">
<h3 class="anchored" data-anchor-id="operadores-básicos-los-destornilladores-de-r">Operadores básicos: Los “Destornilladores” de R</h3>
<p><strong>Definición:</strong>&nbsp;Realizan operaciones matemáticas o lógicas sencillas, similares a una calculadora, pero con potencial escalable.</p>
<section id="operadores-aritméticos" class="level4">
<h4 class="anchored" data-anchor-id="operadores-aritméticos">Operadores aritméticos</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;"><strong>Operador</strong></th>
<th style="text-align: left;"><strong>Acción</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>+</code></td>
<td style="text-align: left;">Suma</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>-</code></td>
<td style="text-align: left;">Resta</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>*</code></td>
<td style="text-align: left;">Multiplicación</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>/</code></td>
<td style="text-align: left;">División</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>^</code></td>
<td style="text-align: left;">Potencia</td>
</tr>
</tbody>
</table>
</section>
<section id="operadores-lógicos" class="level4">
<h4 class="anchored" data-anchor-id="operadores-lógicos">Operadores lógicos</h4>
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;"><strong>Operador</strong></th>
<th style="text-align: left;"><strong>Acción</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>&gt;</code></td>
<td style="text-align: left;">Mayor que</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>&lt;</code></td>
<td style="text-align: left;">Menor que</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>==</code></td>
<td style="text-align: left;">Igualdad</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>!=</code></td>
<td style="text-align: left;">Desigualdad</td>
</tr>
</tbody>
</table>
<p><strong>Respondiendo nuestra pregunta inicial</strong></p>
<p><em>Sí, R puede sumar y restar como una calculadora, pero su verdadero poder está en integrar operadores con funciones, visualizaciones y estructuras de datos para resolver problemas complejos. Como un carpintero que transforma madera en muebles, R transforma datos en conocimiento.</em></p>
</section>
</section>
<section id="experimentemos-usar-operadores-en-r" class="level3">
<h3 class="anchored" data-anchor-id="experimentemos-usar-operadores-en-r">Experimentemos usar operadores en R</h3>
<p>A partir de acá, para nuestro ejercicio de aplicación, vamos a utilizar el data frame que importamos de excel, este objeto lo identificamos con el nombre “datos_2002”, esta base de datos incluye 11 variables obtenidas de una encuesta realizada a estudiantes de la universidad de San Carlos de Guatemala en el año 2002, como ejercicio de aplicación vamos a crear nuevas variables a partir de las variables ya existentes. Las nuevas variables que vamos a crear serán: Peso_Kg, IMC, Mayoría_edad (variable lógica).</p>
<p><strong>Solución del ejercicio:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>Peso_Kg <span class="ot">&lt;-</span> datos_2002<span class="sc">$</span>PESO_lbs <span class="sc">/</span> lb_kg</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>IMC <span class="ot">&lt;-</span> Peso_Kg <span class="sc">/</span> (datos_2002<span class="sc">$</span>TALLA)<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>Mayoria_edad <span class="ot">&lt;-</span> datos_2002<span class="sc">$</span>EDAD <span class="sc">&gt;=</span> <span class="st">"18"</span></span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="paquetes-de-r-recursos-compartidos-por-la-comunidad-para-mejorar-nuestros-análisis-estadísticos" class="level2">
<h2 class="anchored" data-anchor-id="paquetes-de-r-recursos-compartidos-por-la-comunidad-para-mejorar-nuestros-análisis-estadísticos">Paquetes de R: Recursos Compartidos por la Comunidad para mejorar nuestros análisis estadísticos</h2>
<p>Así como un chef no se limita a sal y pimienta, en R no te conformas con funciones básicas. Los paquetes son esos ingredientes secretos (<code>ggplot2</code>, <code>dplyr</code>, <code>tidyr</code>) que convierten un análisis simple en un banquete de insights.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/chefsito2.jpg" class="img-fluid quarto-figure quarto-figure-center figure-img" width="500"></p>
</figure>
</div>
<section id="qué-son-los-paquetes-en-r" class="level3">
<h3 class="anchored" data-anchor-id="qué-son-los-paquetes-en-r">¿Qué son los paquetes en R?</h3>
<p><strong>Definición:</strong> Los paquetes son colecciones de funciones, datos y documentación que <strong>amplían las capacidades básicas de R</strong>, como agregar especias a una receta. Son desarrollados por la comunidad y permiten resolver problemas específicos:</p>
<ul>
<li><strong>Ejemplo:</strong> <strong>ggplot2</strong> (gráficos profesionales) y <strong>dplyr</strong> (manipulación de datos).</li>
</ul>
<p><strong>Metáfora:</strong> <em>“Si R es una cocina básica, los paquetes son licuadoras, batidoras y especias exóticas que transforman ingredientes crudos (datos) en platillos sofisticados (análisis).”</em></p>
<p><strong>Orígenes comunes:</strong></p>
<ul>
<li><p><strong>CRAN:</strong> El “supermercado oficial” de paquetes (más de 19,000 opciones).</p></li>
<li><p><strong>GitHub:</strong> La “tienda de ingredientes artesanales” para paquetes en desarrollo.</p></li>
</ul>
</section>
<section id="cómo-instalar-paquetes-en-r" class="level3">
<h3 class="anchored" data-anchor-id="cómo-instalar-paquetes-en-r">¿Cómo instalar paquetes en R?</h3>
<p>La función utilizada en R para instalar paquetes desde CRAN (lo habitual) es <code>install.packages()</code> pero al instalar un paquete este no se carga automáticamente, debemos de cargarlo a nuestro entorno de trabajo para empezar a usarlo. Para esta tarea utilizamos la función <code>library()</code>. A continuación vamos a hacer este ejemplo con el paquete que utilizaremos para elaborar gráficos en la siguiente sección este se llama <strong>ggplot2</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">"ggplot2"</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(<span class="st">"ggplot2"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Consejo:</strong> Con fines de limpieza de nuestro código y facilitar su reproducibilidad es recomendable colocar al principio de nuestro script una sección dedicada a la instalación y carga de los paquetes que utilizamos en nuestro análisis.</p>
</section>
<section id="la-receta-mágica-para-instalar-paquetes" class="level3">
<h3 class="anchored" data-anchor-id="la-receta-mágica-para-instalar-paquetes">La “receta mágica” para instalar paquetes</h3>
<p><strong><code>if (!require("nombre del paquete")) install.packages("nombre del paquete")</code></strong></p>
<section id="qué-hace-esta-linea" class="level4">
<h4 class="anchored" data-anchor-id="qué-hace-esta-linea">¿Qué hace esta linea?</h4>
<ol type="1">
<li><p><code>require("nombre del paquete")</code>: Esta función intenta cargar el paquete especificado. Si el paquete está instalado, lo carga en la sesión actual y devuelve <code>TRUE</code>. Si el paquete no está instalado, devuelve <code>FALSE</code>.</p></li>
<li><p><code>!require("nombre del paquete")</code>: El signo de exclamación (<code>!</code>) niega el resultado de la función <code>require()</code>. Por lo tanto, esta expresión será <code>TRUE</code> si el paquete NO está instalado o NO puede ser cargado.</p></li>
<li><p><code>if (...) install.packages("nombre del paquete")</code>: Esta es una estructura condicional. Si la condición entre paréntesis es <code>TRUE</code> (es decir, si el paquete no está instalado o no puede ser cargado), entonces se ejecuta <code>install.packages("nombre del paquete")</code>, que descarga e instala el paquete desde el repositorio CRAN.</p></li>
</ol>
<p><strong>En resumen, esta línea de código:</strong></p>
<ul>
<li><p>Primero intenta cargar el paquete con <code>require()</code></p></li>
<li><p>Si el paquete está instalado, lo carga y continúa con el código</p></li>
<li><p>Si el paquete NO está instalado, entonces lo instala automáticamente con <code>install.packages()</code> y luego lo carga.</p></li>
</ul>
<p><strong>Esta es una técnica muy eficiente porque:</strong></p>
<ol type="1">
<li><p>Evita reinstalar paquetes que ya están disponibles.</p></li>
<li><p>Asegura que el código funcione incluso si el usuario no tiene el paquete instalado.</p></li>
<li><p>Hace el código más portable entre diferentes computadora.</p></li>
<li><p>Automatiza la gestión de dependencias</p></li>
</ol>
<p>Para usar esta receta con un paquete específico, simplemente reemplazas “nombre del paquete” con el nombre real del paquete. Por ejemplo:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(<span class="st">"ggplot2"</span>)) <span class="fu">install.packages</span>(<span class="st">"ggplot2"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Esta línea intentará cargar ggplot2 y, si no está instalado, lo instalará automáticamente.</p>
</section>
</section>
<section id="cómo-saber-qué-paquete-usar-para-cada-tarea" class="level3">
<h3 class="anchored" data-anchor-id="cómo-saber-qué-paquete-usar-para-cada-tarea">¿Cómo saber qué paquete usar para cada tarea?</h3>
<p>En R, la elección del paquete adecuado para una tarea específica puede marcar la diferencia entre un análisis eficiente y uno complicado. Dado que R cuenta con más de 19,000 paquetes disponibles en CRAN, es importante conocer cuáles son los más utilizados y recomendados para cada tipo de tarea. A continuación, se presenta una guía práctica para identificar y seleccionar el paquete adecuado según las necesidades del análisis.</p>
<section id="categorías-principales-de-paquetes" class="level4">
<h4 class="anchored" data-anchor-id="categorías-principales-de-paquetes">Categorías principales de paquetes</h4>
<p>Los paquetes en R se pueden clasificar en diferentes categorías según su propósito. Aquí se presentan las más comunes y los paquetes más destacados en cada una:</p>
<ul>
<li><p><strong>Manipulación de datos</strong>:</p>
<ul>
<li><p>Paquetes como <code>dplyr</code> y <code>tidyr</code> son ideales para filtrar, transformar, agrupar y reorganizar datos.</p></li>
<li><p>Ejemplo: Calcular el promedio de edad por sexo o transformar datos de formato ancho a largo.</p></li>
</ul></li>
<li><p><strong>Visualización de datos</strong>:</p>
<ul>
<li><p><code>ggplot2</code> es el estándar para crear gráficos personalizados y de alta calidad.</p></li>
<li><p>Ejemplo: Crear gráficos de barras, histogramas o scatterplots para explorar relaciones entre variables.</p></li>
</ul></li>
<li><p><strong>Análisis estadístico básico</strong>:</p>
<ul>
<li><p>Las funciones base de R (<code>stats</code>) incluyen herramientas para realizar pruebas t, ANOVA y cálculos de medias.</p></li>
<li><p>Ejemplo: Comparar tratamientos de un experimento mediante un ANOVA.</p></li>
</ul></li>
<li><p><strong>Análisis estadístico avanzado</strong>:</p>
<ul>
<li><p>Paquetes como <code>agricolae</code> que es útil para diseños experimentales en agronomía.</p></li>
<li><p>Ejemplo: Analizar efectos aleatorios en un diseño de bloques completos al azar.</p></li>
</ul></li>
</ul>
</section>
<section id="criterios-para-elegir-un-paquete" class="level4">
<h4 class="anchored" data-anchor-id="criterios-para-elegir-un-paquete">Criterios para elegir un paquete</h4>
<p>Al seleccionar un paquete, es importante considerar los siguientes aspectos:</p>
<ul>
<li><p><strong>Propósito</strong>: ¿Qué tarea específica necesitas realizar? Por ejemplo, si deseas manipular datos, <code>dplyr</code> es una excelente opción; si necesitas gráficos avanzados, <code>ggplot2</code> es ideal.</p></li>
<li><p><strong>Popularidad y soporte</strong>: Los paquetes más populares suelen tener mejor documentación, tutoriales y una comunidad activa. Por ejemplo, <code>ggplot2</code> y <code>dplyr</code> son ampliamente utilizados y cuentan con numerosos recursos en línea.</p></li>
<li><p><strong>Compatibilidad</strong>: Algunos paquetes están diseñados para integrarse con otros. Por ejemplo, <code>dplyr</code> y <code>ggplot2</code> forman parte del ecosistema tidyverse, lo que facilita su uso conjunto.</p></li>
<li><p><strong>Documentación</strong>: Un paquete bien documentado es más fácil de aprender y utilizar. Revisa la documentación oficial y los ejemplos proporcionados.</p></li>
</ul>
</section>
<section id="recursos-para-identificar-paquetes" class="level4">
<h4 class="anchored" data-anchor-id="recursos-para-identificar-paquetes">Recursos para identificar paquetes</h4>
<p>Si no estás seguro de qué paquete usar, puedes recurrir a los siguientes recursos:</p>
<ul>
<li><p><strong>CRAN Task Views</strong>: Una colección de listas temáticas en CRAN que agrupan paquetes según su propósito. Por ejemplo, la Task View de “Agriculture” incluye paquetes relacionados con análisis de suelos, cultivos y experimentos agrícolas.</p>
<ul>
<li>Enlace: <a href="https://cran.r-project.org/web/views/">CRAN Task Views</a></li>
</ul></li>
<li><p><strong>Cheatsheets</strong>: Las hojas de referencia rápida (cheatsheets) de RStudio son una excelente manera de explorar las capacidades de paquetes populares como <code>ggplot2</code>, <code>dplyr</code> y <code>tidyr</code>.</p></li>
</ul>
<pre><code>-   Enlace: [Cheatsheets de RStudio](https://www.rstudio.com/resources/cheatsheets/)</code></pre>
<ul>
<li><p><strong>Foros y comunidades</strong>: Plataformas como Stack Overflow, RStudio Community y GitHub son útiles para buscar recomendaciones y ejemplos de uso.</p></li>
<li><p><strong>Libros y tutoriales</strong>: Recursos como <em>R for Data Science</em> de Hadley Wickham y Garrett Grolemund ofrecen una introducción práctica a los paquetes más utilizados en el ecosistema tidyverse.</p></li>
</ul>
</section>
</section>
</section>
<section id="manipulación-de-datos-con-dplyr-y-tidyr" class="level2">
<h2 class="anchored" data-anchor-id="manipulación-de-datos-con-dplyr-y-tidyr">Manipulación de datos con dplyr y tidyr</h2>
<p>La manipulación de datos es una tarea esencial en el análisis estadístico, ya que permite transformar, organizar y preparar los datos para su análisis. En R, los paquetes <strong>dplyr</strong> y <strong>tidyr</strong> del ecosistema tidyverse son herramientas clave para realizar estas tareas de manera eficiente y reproducible. A continuación, exploraremos las principales funciones de estos paquetes, el concepto de <em>pipes</em> y la utilidad de transformar datos entre formatos ancho y largo, con ejemplos prácticos, incluyendo aplicaciones en el ámbito agrícola.</p>
<section id="qué-es-dplyr" class="level3">
<h3 class="anchored" data-anchor-id="qué-es-dplyr">¿Qué es dplyr?</h3>
<p><strong>dplyr</strong> es un paquete diseñado para realizar operaciones comunes de manipulación de datos, como filtrar, seleccionar columnas, agrupar y resumir datos. Su sintaxis es intuitiva y está optimizada para trabajar con data frames y tibbles (una versión mejorada de los data frames).</p>
<section id="operaciones-básicas-con-dplyr" class="level4">
<h4 class="anchored" data-anchor-id="operaciones-básicas-con-dplyr">Operaciones básicas con dplyr</h4>
<ol type="1">
<li><p><strong>Filtrar filas</strong>: Selecciona observaciones que cumplen una condición específica.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filtrar estudiantes que miden más de 1.90m   </span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>estudiantes_altos <span class="ot">&lt;-</span> datos_2002 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(TALLA <span class="sc">&gt;</span> <span class="fl">1.9</span>)   </span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
<li><p><strong>Seleccionar columnas</strong>: Extrae variables específicas de un data frame.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Seleccionar solo las columnas de peso en libras y talla</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>seleccion <span class="ot">&lt;-</span> datos_2002 <span class="sc">%&gt;%</span> <span class="fu">select</span>(PESO_lbs, TALLA)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
</ol>
<!-- -->
<ol start="3" type="1">
<li><p><strong>Crear nuevas columnas</strong>: Añade variables calculadas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear una nueva columna con el pesoo en kilogramos   </span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>datos_2002 <span class="ot">&lt;-</span> datos_2002 <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">PESO_Kg =</span> PESO_lbs <span class="sc">/</span> <span class="fl">2.2</span>) </span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
</ol>
<!-- -->
<ol start="4" type="1">
<li><p><strong>Agrupar y resumir datos</strong>: Calcula estadísticas por grupo.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular la edad promedio por facultad </span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>promedio_edad <span class="ot">&lt;-</span> datos <span class="sc">%&gt;%</span>     <span class="fu">group_by</span>(FACULTAD) <span class="sc">%&gt;%</span>     <span class="fu">summarize</span>(<span class="at">edad_promedio =</span> <span class="fu">mean</span>(EDAD, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) </span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></li>
</ol>
</section>
<section id="qué-son-las-pipes" class="level4">
<h4 class="anchored" data-anchor-id="qué-son-las-pipes">¿Qué son las <em>pipes</em> (<code>%&gt;%</code>)?</h4>
<p>El operador <em>pipe</em> (<code>%&gt;%</code>) es una herramienta clave en el tidyverse que permite encadenar funciones de manera legible y eficiente. En lugar de anidar funciones, el <em>pipe</em> pasa el resultado de una función como entrada a la siguiente.</p>
<section id="ejemplo-sin-pipes" class="level5">
<h5 class="anchored" data-anchor-id="ejemplo-sin-pipes">Ejemplo sin <em>pipes</em>:</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>promedio <span class="ot">&lt;-</span> <span class="fu">summarize</span>(<span class="fu">group_by</span>(datos_2002, FACULTAD), <span class="at">edad_promedio =</span> <span class="fu">mean</span>(EDAD, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))   </span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="ejemplo-con-pipes" class="level5">
<h5 class="anchored" data-anchor-id="ejemplo-con-pipes">Ejemplo con <em>pipes</em>:</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calcular la edad promedio por facultad </span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>promedio_pipe <span class="ot">&lt;-</span> datos_2002 <span class="sc">%&gt;%</span>     <span class="fu">group_by</span>(FACULTAD) <span class="sc">%&gt;%</span>     <span class="fu">summarize</span>(<span class="at">edad_promedio =</span> <span class="fu">mean</span>(EDAD, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))   </span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>El uso de <em>pipes</em> mejora la legibilidad del código, especialmente en flujos de trabajo complejos.</p>
</section>
</section>
</section>
<section id="visualización-de-datos-introducción-a-gráficos-básicos-con-ggplot2" class="level3">
<h3 class="anchored" data-anchor-id="visualización-de-datos-introducción-a-gráficos-básicos-con-ggplot2">Visualización de datos: Introducción a gráficos básicos con ggplot2</h3>
<p>La visualización de datos es una herramienta fundamental para explorar patrones, comunicar resultados y validar supuestos en el análisis estadístico. En R, el paquete <strong>ggplot2</strong> es ampliamente utilizado debido a su flexibilidad y capacidad para crear gráficos de alta calidad.</p>
<section id="qué-es-ggplot2" class="level4">
<h4 class="anchored" data-anchor-id="qué-es-ggplot2">¿Qué es ggplot2?</h4>
<p><strong>ggplot2</strong> es un paquete de R diseñado para crear gráficos personalizados y profesionales. Su enfoque se basa en una lógica de capas, donde cada capa representa un componente del gráfico (datos, tipo de gráfico, etiquetas, etc.). Esto permite construir gráficos complejos de manera modular y reproducible.</p>
</section>
<section id="estructura-básica-de-ggplot2" class="level4">
<h4 class="anchored" data-anchor-id="estructura-básica-de-ggplot2">Estructura básica de ggplot2</h4>
<p>La estructura general de un gráfico en ggplot2 sigue esta sintaxis:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> DATOS, <span class="fu">aes</span>(<span class="at">x =</span> VARIABLE_X, <span class="at">y =</span> VARIABLE_Y)) <span class="sc">+</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">GEOM_FUNCION</span>() <span class="sc">+</span>     </span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Título del gráfico"</span>, </span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Etiqueta eje X"</span>, </span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Etiqueta eje Y"</span>)</span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p><strong><code>data</code></strong>: El conjunto de datos que se usará para el gráfico.</p></li>
<li><p><strong><code>aes()</code></strong>: Define las variables estéticas (ejes, colores, tamaños, etc.).</p></li>
<li><p><strong><code>GEOM_FUNCION()</code></strong>: Especifica el tipo de gráfico (e.g., barras, puntos, líneas).</p></li>
<li><p><strong><code>labs()</code></strong>: Añade etiquetas y títulos.</p></li>
</ul>
</section>
<section id="ejemplo-1-crear-un-histograma" class="level4">
<h4 class="anchored" data-anchor-id="ejemplo-1-crear-un-histograma">Ejemplo 1: Crear un histograma</h4>
<p>Un histograma es útil para explorar la distribución de una variable numérica.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Crear un histograma de la variable "peso"   </span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> datos_2002, <span class="fu">aes</span>(<span class="at">x =</span> PESO_lbs)) <span class="sc">+</span>  </span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">5</span>, <span class="at">fill =</span> <span class="st">"skyblue"</span>, <span class="at">color =</span> <span class="st">"black"</span>) <span class="sc">+</span>     </span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribución del peso de los estudiantes"</span>,</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Peso (libras)"</span>,</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Frecuencia"</span>)   </span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="teoria_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<ul>
<li><p><strong><code>geom_histogram()</code></strong>: Crea el histograma.</p></li>
<li><p><strong><code>binwidth</code></strong>: Define el ancho de las barras.</p></li>
</ul>
</section>
<section id="ejemplo-2-crear-un-scatterplot" class="level4">
<h4 class="anchored" data-anchor-id="ejemplo-2-crear-un-scatterplot">Ejemplo 2: Crear un scatterplot</h4>
<p>Un scatterplot permite explorar la relación entre dos variables numéricas.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Relación entre peso y edad   </span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> datos_2002, <span class="fu">aes</span>(<span class="at">x =</span> EDAD, <span class="at">y =</span> PESO_lbs)) <span class="sc">+</span></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">"blue"</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span>     </span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Relación entre edad y peso"</span>,          </span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Edad (años)"</span>,          </span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Peso (libras)"</span>)   </span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="teoria_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<ul>
<li><strong><code>geom_point()</code></strong>: Dibuja los puntos en el gráfico.</li>
</ul>
</section>
<section id="ejemplo-3-crear-un-boxplot" class="level4">
<h4 class="anchored" data-anchor-id="ejemplo-3-crear-un-boxplot">Ejemplo 3: Crear un boxplot</h4>
<p>Un boxplot es útil para comparar la distribución de una variable numérica entre grupos.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Comparar el peso por sexo   </span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> datos_2002, <span class="fu">aes</span>(<span class="at">x =</span> SEXO, <span class="at">y =</span> PESO_lbs, <span class="at">fill =</span> SEXO)) <span class="sc">+</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span>     </span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Distribución del peso por sexo"</span>,</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Sexo"</span>,          </span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Peso (libras)"</span>)   </span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="teoria_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<ul>
<li><strong><code>fill</code></strong>: Colorea las cajas según el grupo.</li>
</ul>
</section>
</section>
<section id="exportación-de-resultados-guardar-gráficos-y-tablas" class="level3">
<h3 class="anchored" data-anchor-id="exportación-de-resultados-guardar-gráficos-y-tablas">Exportación de resultados: Guardar gráficos y tablas</h3>
<p>Una vez que se han generado gráficos o tablas, es importante exportarlos para su uso en informes o presentaciones. R ofrece funciones para guardar resultados en formatos como PNG, PDF o CSV.</p>
<section id="guardar-gráficos-con-ggsave" class="level4">
<h4 class="anchored" data-anchor-id="guardar-gráficos-con-ggsave">Guardar gráficos con ggsave()</h4>
<p>La función <strong><code>ggsave()</code></strong> permite guardar el último gráfico generado.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Guardar un gráfico en formato PNG   </span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"grafico_peso.png"</span>, <span class="at">width =</span> <span class="dv">8</span>, <span class="at">height =</span> <span class="dv">6</span>, <span class="at">dpi =</span> <span class="dv">300</span>)      </span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Guardar un gráfico en formato PDF   </span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"grafico_peso.pdf"</span>, <span class="at">width =</span> <span class="dv">8</span>, <span class="at">height =</span> <span class="dv">6</span>)   </span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><p><strong><code>width</code> y <code>height</code></strong>: Dimensiones del gráfico.</p></li>
<li><p><strong><code>dpi</code></strong>: Resolución del gráfico (300 es ideal para publicaciones).</p></li>
</ul>
</section>
<section id="guardar-tablas-en-formato-csv" class="level4">
<h4 class="anchored" data-anchor-id="guardar-tablas-en-formato-csv">Guardar tablas en formato CSV</h4>
<p>Para exportar un data frame como archivo CSV, se utiliza la función <strong><code>write.csv()</code></strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Guardar el data frame en un archivo CSV   </span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(datos_2002, <span class="st">"datos_estudiantes.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)   </span></code><button title="Copiar al portapapeles" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><strong><code>row.names = FALSE</code></strong>: Evita incluir los índices como una columna adicional.</li>
</ul>
</section>
</section>
</section>
<section id="material-de-apoyo" class="level2">
<h2 class="anchored" data-anchor-id="material-de-apoyo">Material de apoyo</h2>
<ol type="1">
<li><p><a href="https://docs.google.com/document/d/14X8fiHfUgwDuEH1RrK8qPrURduVoowQ4/edit?usp=sharing&amp;ouid=106152052819657144907&amp;rtpof=true&amp;sd=true">Guia de instalación de R y RStudio elaborada por el Dr.&nbsp;Byron Gonzalez</a></p></li>
<li><p><a href="https://www.youtube.com/watch?v=hbgzW3Cvda4">Tutorial en YouTube “Cómo instalar R y RStudio en menos de 2 minutos - 2024”. Elaborado por Herbert Lizama.</a></p></li>
<li><p><a href="https://es.r4ds.hadley.nz/03-visualize.html">R para ciencia de datos por Handley Wickham &amp; Garrett Grolemund</a></p></li>
</ol>
</section>
<section id="referencias" class="level2">
<h2 class="anchored" data-anchor-id="referencias">Referencias</h2>
<p>Allaire, J. J., Xie, Y., &amp; McPherson, J. (2022). R Markdown: The Definitive Guide. Chapman &amp; Hall/CRC. <a href="https://www.taylorfrancis.com/books/mono/10.1201/9781138359444/markdown-yihui-xie-allaire-garrett-grolemund" class="uri">https://www.taylorfrancis.com/books/mono/10.1201/9781138359444/markdown-yihui-xie-allaire-garrett-grolemund</a></p>
<p>Ihaka, R., &amp; Gentleman, R. (1996). R: A Language for Data Analysis and Graphics. Journal of Computational and Graphical Statistics, 5(3), 299–314.</p>
<p>R Core Team. (2023). R: A Language and Environment for Statistical Computing. R Foundation for Statistical Computing. <a href="https://www.Rproject.org" class="uri">https://www.Rproject.org</a></p>
<p>Baker, M. (2016). 1,500 scientists lift the lid on reproducibility.&nbsp;<em>Nature, 533</em>(7604), 452–454.&nbsp;<a href="https://doi.org/10.1038/533452a" class="uri">https://doi.org/10.1038/533452a</a></p>
<p>National Academies of Sciences, Engineering, and Medicine. (2019).&nbsp;<em>Reproducibility and replicability in science</em>. National Academies Press.&nbsp;<a href="https://doi.org/10.17226/25303" class="uri">https://doi.org/10.17226/25303</a></p>
<p>The Turing Way Community. (2023).&nbsp;<em>The Turing Way: A handbook for reproducible, ethical and collaborative research</em>.&nbsp;<a href="https://the-turing-way.netlify.app/">https://the-turing-way.netlify.app</a></p>
<p>Gentleman, R., &amp; Temple Lang, D. (2007). Statistical analyses and reproducible research.&nbsp;<em>Journal of Computational and Graphical Statistics, 16</em>(1), 1-23.&nbsp;<a href="https://doi.org/10.1198/106186007X178663" class="uri">https://doi.org/10.1198/106186007X178663</a></p>
<p>Wilkinson, M. D. et al.&nbsp;(2016). The FAIR Guiding Principles for scientific data management and stewardship.&nbsp;<em>Scientific Data, 3</em>(1), 160018.&nbsp;<a href="https://doi.org/10.1038/sdata.2016.18" class="uri">https://doi.org/10.1038/sdata.2016.18</a></p>
<p>Kolb, D. A. (1984).&nbsp;<em>Experiential learning: Experience as the source of learning and development</em>. Prentice Hall.</p>
<p>Hmelo-Silver, C. E., Duncan, R. G., &amp; Chinn, C. A. (2007). Scaffolding and achievement in problem-based and inquiry learning: A response to Kirschner, Sweller, and Clark (2006).&nbsp;<em>Educational Psychologist, 42</em>(2), 99–107.&nbsp;<a href="https://doi.org/10.1080/00461520701263368" class="uri">https://doi.org/10.1080/00461520701263368</a></p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>